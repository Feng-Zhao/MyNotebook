## JVM

### 1.7 1.8 HotSopt JVM 变化

1.7 中使用永久代实现方法区，存储class类元信息（class对象，字面常量等）和字符串常量

1.8 中使用元数据区实现方法区，存储class类元信息，把字符串常量移动到堆中，此外，元数据区不占用JVM内存，而是直接存储于本地内存中。（好处是防止字符串常量过多造成的方法区内存溢出）

### JVM 内存模型示意图
![JVM内存模型示意图](./pic/JVM内存1.png)

### HotSpot 堆内存模型

![HotSpot 堆内存模型](./pic/JVM堆内存模型.png)
分配占比： 新生代 1/3 老年代 2/3
eden区、from（s0）、to(s1) 默认比例为 8：1：1

GC的类型：
（1）对新生代的对象的收集称为minor GC；
（2）对旧生代的对象的收集称为Full GC；
（3）程序中主动调用System.gc()强制执行的GC为Full GC。

对象的四种引用类型：
（1）强引用：默认情况下，对象采用的均为强引用（这个对象的实例没有其他对象引用，GC时才会被回收）
（2）软引用：软引用是Java中提供的一种比较适合于缓存场景的应用（只有在内存不够用的情况下才会被GC）
（3）弱引用：在GC时一定会被GC回收
（4）虚引用：由于虚引用只是用来得知对象是否被GC
